graph LR
    %% Start & Phase 1
    N1(("1 | 0 | 0")) -- A (27) --> N2(("2 | 27 | 27"))
    N1 -- B (24) --> N3(("3 | 24 | 27"))
    N1 -- C (25) --> N4(("4 | 25 | 31"))

    %% Phase 2
    N2 -- D (20) --> N5(("5 | 47 | 47"))
    N3 -.->|d1| N5
    N3 -- E (23) --> N6(("6 | 47 | 47"))
    N3 -.->|d2| N7(("7 | 45 | 51"))
    N4 -- F (21) --> N7

    %% Phase 3
    N5 -.->|d3| N8(("8 | 62 | 62"))
    N6 -- G (15) --> N8
    N6 -- H (17) --> N9(("9 | 64 | 64"))
    N6 -.->|d4| N10(("10 | 66 | 70"))
    N7 -- I (19) --> N10

    %% Phase 4
    N8 -.->|d5| N11(("11 | 79 | 79"))
    N9 -- K (15) --> N11
    N9 -- J (13) --> N12(("12 | 77 | 77"))
    N9 -.->|d6| N13(("13 | 81 | 85"))
    N10 -- M (17) --> N13
    N10 -- L (16) --> N14(("14 | 80 | 84"))

    %% Phase 5
    N11 -- N (19) --> N15(("15 | 98 | 98"))
    N12 -- O (21) --> N16(("16 | 98 | 100"))
    N11 -.->|d7| N17(("17 | 105 | 105"))
    N12 -.->|d8| N17
    N13 -- P (25) --> N17
    N14 -.->|d9| N17
    N13 -- Q (23) --> N18(("18 | 104 | 108"))
    N14 -.->|d10| N18
    N13 -- R (20) --> N19(("19 | 101 | 108"))
    N14 -.->|d11| N19

    %% Phase 6
    N15 -.->|d12| N20(("20 | 132 | 132"))
    N16 -.->|d13| N20
    N17 -- S (27) --> N20
    N15 -.->|d14| N21(("21 | 135 | 135"))
    N16 -.->|d15| N21
    N17 -- T (30) --> N21
    N16 -.->|d16| N22(("22 | 126 | 135"))
    N17 -.->|d17| N22
    N18 -- U (21) --> N22
    N17 -.->|d18| N23(("23 | 129 | 136"))
    N18 -.->|d19| N23
    N19 -- V (24) --> N23
    N17 -.->|d20| N24(("24 | 131 | 138"))
    N18 -.->|d21| N24
    N19 -- W (26) --> N24

    %% Phase 7
    N20 -- X (17) --> N25(("25 | 149 | 149"))
    N20 -.->|d22| N26(("26 | 150 | 150"))
    N21 -- Y (15) --> N26
    N20 -.->|d23| N27(("27 | 148 | 150"))
    N21 -.->|d24| N27
    N22 -- Z (13) --> N27
    N20 -.->|d25| N28(("28 | 147 | 151"))
    N21 -.->|d26| N28
    N22 -.->|d27| N28
    N23 -- α (12) --> N28
    N20 -.->|d28| N29(("29 | 153 | 153"))
    N21 -.->|d29| N29
    N22 -.->|d30| N29
    N23 -.->|d31| N29
    N24 -- β (18) --> N29

    %% Phase 8 & Finish
    N25 -.->|d32| N30(("30 | 179 | 179"))
    N26 -.->|d33| N30
    N27 -- δ (30) --> N30
    N27 -- γ (24) --> N31(("31 | 172 | 174"))
    N27 -.->|d34| N32(("32 | 179 | 179"))
    N28 -.->|d35| N32
    N29 -- λ (26) --> N32
    N28 -.->|d36| N33(("33 | 177 | 179"))
    N29 -- ρ (24) --> N33
    
    %% Finish Node
    N30 --> Finish(("Finish | 179 | 179"))
    N31 -.->|d37| Finish
    N32 --> Finish
    N33 -.->|d38| Finish
    
    %% Styling
    linkStyle 0,3,6,8,11,15,19,23,28,32,36,44,48,49 stroke:red,stroke-width:2px,color:red
    classDef critical stroke:red,stroke-width:2px,color:red
    class N1,N2,N5,N6,N8,N9,N11,N12,N17,N21,N26,N27,N30,N32,Finish critical;
